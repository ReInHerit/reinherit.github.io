{"version":3,"sources":["webpack://reinherit-digital-hub-prototype/./node_modules/react-bootstrap/esm/Badge.js","webpack://reinherit-digital-hub-prototype/./src/components/shared/NewsFeed/index.tsx","webpack://reinherit-digital-hub-prototype/./src/pages/content/news/index.tsx"],"names":["ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","defineProperty","Badge","_ref","ref","bsPrefix","bg","pill","text","className","_ref$as","as","Component","props","prefix","concat","displayName","defaultProps","data","useStaticQuery","NEWS_QUERY","theme","useReinTheme","href","style","background","styles","MAIN_COLOR","reinheritStatics","groupKey","LABEL","allMarkdownRemark","edges","map","edge","node","frontmatter","target_audience","includes","title","Container","dangerouslySetInnerHTML","__html","html","audience","to","window","location","pathname","REST_MODE_VAL","reinheritThemes","BaseLayout","Row","Col","lg","md"],"mappings":"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","file":"component---src-pages-content-news-index-tsx-6e10aad7e574ce32fa41.js","sourcesContent":["import _defineProperty from \"C:/Users/stoffse/Documents/programming/js/digi-hub/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _objectWithoutProperties from \"C:/Users/stoffse/Documents/programming/js/digi-hub/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport classNames from 'classnames';\nimport * as React from 'react';\nimport { useBootstrapPrefix } from './ThemeProvider';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nvar defaultProps = {\n  bg: 'primary',\n  pill: false\n};\nvar Badge = /*#__PURE__*/React.forwardRef(function (_ref, ref) {\n  var bsPrefix = _ref.bsPrefix,\n      bg = _ref.bg,\n      pill = _ref.pill,\n      text = _ref.text,\n      className = _ref.className,\n      _ref$as = _ref.as,\n      Component = _ref$as === void 0 ? 'span' : _ref$as,\n      props = _objectWithoutProperties(_ref, [\"bsPrefix\", \"bg\", \"pill\", \"text\", \"className\", \"as\"]);\n\n  var prefix = useBootstrapPrefix(bsPrefix, 'badge');\n  return /*#__PURE__*/_jsx(Component, _objectSpread(_objectSpread({\n    ref: ref\n  }, props), {}, {\n    className: classNames(className, prefix, pill && \"rounded-pill\", text && \"text-\".concat(text), bg && \"bg-\".concat(bg))\n  }));\n});\nBadge.displayName = 'Badge';\nBadge.defaultProps = defaultProps;\nexport default Badge;","import { graphql, Link, useStaticQuery } from \"gatsby\"\r\nimport React from \"react\"\r\nimport { Badge, Container } from \"react-bootstrap\"\r\nimport { reinheritStatics } from \"../../../data/reinheritStatics\";\r\nimport { reinheritThemes } from \"../../../data/reinheritThemes\";\r\nimport { useReinTheme } from \"../../../hooks/contexts/useReinTheme\";\r\n\r\n/**\r\n * Component reading out data from markdown files at build time using gatsby.\r\n * @returns \r\n */\r\nconst NewsFeed: React.FC = () => {\r\n  const data: NewsQueryData.Data = useStaticQuery(NEWS_QUERY);\r\n\r\n  // used to display data conditionally to target audience\r\n  const { theme } = useReinTheme();\r\n\r\n  /**\r\n   * Calculates gatsby routes to be sent via clicking on a badge in the news cards.\r\n   * @param groupKey \r\n   * @returns \r\n   */\r\n  const handleBadgeMode = (groupKey: string) => {\r\n\r\n    const isBrowser = () => typeof window !== \"undefined\"\r\n    // needs to be done to solve SSR rendering errors for gatsby.\r\n    if(isBrowser()){\r\n      return `${location.pathname}?mode=${reinheritStatics[groupKey].REST_MODE_VAL}`\r\n    } else {\r\n      return \"\"\r\n    }\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <p><a href=\"/admin/admin.html#/collections/news\" target=\"_blank\"><Badge bg=\"\" style={{background: theme.styles.MAIN_COLOR}}>Add + </Badge></a> You are currently seeing news available for: <b>{reinheritStatics[theme.groupKey].LABEL}</b></p>\r\n      {data.allMarkdownRemark.edges.map(edge => {\r\n        if(!edge.node.frontmatter.target_audience.includes(theme.groupKey))return null;\r\n        return (\r\n        <>\r\n        <h2 className=\"h6\"><small>{edge.node.frontmatter.title}</small></h2>\r\n        <Container className=\"shadow p-4 mb-4\">\r\n          <div dangerouslySetInnerHTML={{__html: edge.node.html}}></div>\r\n          {edge.node.frontmatter.target_audience.map(audience => <Link className=\"text-decoration-none\" to={handleBadgeMode(audience)}><Badge bg=\"none\"  className=\"m-1\" style={{background: reinheritThemes[audience].MAIN_COLOR}}>{reinheritStatics[audience].LABEL}</Badge></Link>)}\r\n          \r\n        </Container>\r\n        </>\r\n      )})}\r\n    </>\r\n  )\r\n}\r\n\r\nexport default NewsFeed\r\n\r\nconst NEWS_QUERY = graphql`\r\n  query NewsQuery {\r\n    allMarkdownRemark(filter: {frontmatter: {type: {eq: \"news\"}}}) {\r\n      edges {\r\n        node {\r\n          html\r\n          frontmatter {\r\n            title\r\n            date(fromNow: true)\r\n            target_audience\r\n            layout\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n`\r\n\r\ndeclare module NewsQueryData {\r\n  export interface Frontmatter {\r\n    title: string\r\n    date: string\r\n    target_audience:string[]\r\n  }\r\n\r\n  export interface Node {\r\n    html: string\r\n    frontmatter: Frontmatter\r\n  }\r\n\r\n  export interface Edge {\r\n    node: Node\r\n  }\r\n\r\n  export interface AllMarkdownRemark {\r\n    edges: Edge[]\r\n  }\r\n\r\n  export interface Data {\r\n    allMarkdownRemark: AllMarkdownRemark\r\n  }\r\n\r\n  export interface Extensions {}\r\n\r\n  export interface RootObject {\r\n    data: Data\r\n    extensions: Extensions\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport { Col, Container, Row } from \"react-bootstrap\";\r\nimport NewsFeed from \"../../../components/shared/NewsFeed\";\r\nimport BaseLayout from \"../../../components/static/BaseLayout\";\r\n\r\n\r\nconst NewsPage: React.FC = () => {\r\n\r\n  return (\r\n    <BaseLayout>\r\n      <Row>\r\n        <Col lg={7}>\r\n        <h1>News</h1>\r\n          <NewsFeed/>\r\n        </Col>\r\n        <Col lg={2} md={0}></Col>\r\n        <Col>\r\n          <Container className=\"shadow p-4\">\r\n            <h2 className=\"h5\">Stuff happening somewhere else</h2>\r\n            <p>Social media</p>\r\n          </Container>\r\n          <br />\r\n          <Container className=\"shadow p-4\">\r\n            <h2 className=\"h5\">Got to XYZ</h2>\r\n            <p>Social media</p>\r\n          </Container>\r\n        </Col>\r\n      </Row>\r\n    </BaseLayout>\r\n  )\r\n\r\n}\r\n\r\nexport default NewsPage;"],"sourceRoot":""}